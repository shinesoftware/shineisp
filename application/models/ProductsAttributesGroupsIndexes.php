<?php

/**
 * ProductsAttributesGroupsIndexes
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    ##PACKAGE##
 * @subpackage ##SUBPACKAGE##
 * @author     ##NAME## <##EMAIL##>
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class ProductsAttributesGroupsIndexes extends BaseProductsAttributesGroupsIndexes
{
	/**
     * deleteAttributes
     * Delete the list of attribute from a group
     * @param integer $groupid
     * @return boolean
     */
    public static function deleteAttributes($groupid, array $attributes) {
    	return Doctrine_Query::create ()->delete ()->from ( 'ProductsAttributesGroupsIndexes' )
    					->whereIn ( 'attribute_id', $attributes )
    					->where('group_id = ?', $groupid)
    					->execute ();
    }
    
	/**
     * deleteAllAttributes
     * Delete the list of attribute from a group
     * @param integer $groupid
     * @return boolean
     */
    public static function deleteAllAttributes($groupid) {
    	return Doctrine_Query::create ()->delete ()->from ( 'ProductsAttributesGroupsIndexes' )
    					->where('group_id = ?', $groupid)
    					->execute ();
    }
    
	/**
     * AddAttributes
     * Add a list of attributes in a group
     * @param integer $groupid
     * @param array $attributes 
     * @return boolean
     */
    public static function AddAttributes($groupid, array $attributes) {
    	if(!empty($attributes)){
			foreach ($attributes as $attributeID) {
				$attrs = new ProductsAttributesGroupsIndexes();
				$attrs->attribute_id = $attributeID;
				$attrs->group_id = $groupid;
				$attrs->save();
			}
			return true;
		}
		return false;
    }
}